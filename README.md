# LeetCode Progress Tracker

Система для отслеживания прогресса решения задач на LeetCode с веб-интерфейсом.

## Компоненты

### 1. Скрипт сбора данных (`data_collector.py`)
Собирает статистику пользователей LeetCode и сохраняет в CSV файл.

### 2. Веб-приложение (`app.py`)
FastAPI приложение для отображения графиков и статистики.

### 3. Конфигурация (`config.py`)
Настройки для обоих компонентов.

## Установка

1. Установите Python зависимости:
```bash
pip install -r requirements.txt
```

## Использование

### 1. Настройка пользователей

Отредактируйте `config.py` и укажите нужных пользователей LeetCode:

```python
USERNAMES = ["your_username", "friend_username"]
```

### 2. Сбор данных

Запустите скрипт для сбора данных:

```bash
python data_collector.py
```

Этот скрипт можно запускать регулярно (например, через cron или Task Scheduler) для автоматического обновления данных.

### 3. Запуск веб-приложения

Запустите веб-сервер:

```bash
python app.py
```

Или используя uvicorn напрямую:

```bash
uvicorn app:app --host 0.0.0.0 --port 8000 --reload
```

Откройте браузер и перейдите по адресу: http://localhost:8000

## Возможности веб-интерфейса

- **Главная страница** (`/`): Отображает статистику и графики
- **График прогресса** (`/plot/progress`): Показывает прогресс с начала отслеживания
- **График общего количества** (`/plot/total`): Показывает общее количество решенных задач
- **API статистики** (`/api/stats`): JSON API для получения данных

## Автоматизация

Для автоматического обновления данных настройте запуск `data_collector.py` по расписанию:

### Windows (Task Scheduler)
1. Откройте Task Scheduler
2. Создайте новую задачу
3. Установите расписание (например, каждый час)
4. Укажите команду: `python "path\to\your\data_collector.py"`

### Linux/macOS (cron)
```bash
# Редактировать crontab
crontab -e

# Добавить строку для запуска каждый час
0 * * * * cd /path/to/your/project && python data_collector.py
```

## Структура файлов

```
leetcode-graph/
├── data_collector.py                # Скрипт сбора данных
├── app.py                           # Веб-приложение FastAPI
├── config.py                        # Конфигурация
├── requirements.txt                 # Python зависимости
├── README.md                        # Документация
├── leetcode_progress_long.csv       # Данные (создается автоматически)
├── pyproject.toml                   # Настройки проекта (если используется)
├── static/                          # Статические файлы
│   ├── css/
│   │   └── style.css               # Стили CSS
│   └── js/
│       └── app.js                  # JavaScript функциональность
├── templates/                       # HTML шаблоны
│   ├── index.html                  # Главная страница
│   └── error.html                  # Страница ошибки
└── test_plotly.py                  # Тестовый скрипт для отладки
```

## Настройка конфигурации

В файле `config.py` вы можете настроить:

- **USERNAMES**: Список пользователей LeetCode
- **CSV_FILE**: Имя файла для данных
- **REQUEST_TIMEOUT**: Таймаут запросов
- **FIGURE_SIZE**: Размер графиков
- **PLOT_STYLE**: Стиль графиков matplotlib
- И другие параметры оформления

## API Endpoints

- `GET /` - Главная страница с графиками
- `GET /plot/progress` - График прогресса (PNG)
- `GET /plot/total` - График общего количества (PNG)
- `GET /api/stats` - Статистика в JSON формате

## Решение проблем

### Ошибка "Пользователь не найден"
Убедитесь, что имена пользователей в `config.py` указаны правильно и соответствуют профилям на LeetCode.

### Ошибка "Файл с данными не найден"
Запустите `data_collector.py` хотя бы один раз для создания файла с данными.

### Проблемы с графиками
Убедитесь, что установлены все зависимости из `requirements.txt`.
